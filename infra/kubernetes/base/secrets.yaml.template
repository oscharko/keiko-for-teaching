# Secrets Template for Keiko Services
# IMPORTANT: This is a template file. DO NOT commit actual secrets to version control.
# 
# Usage:
# 1. Copy this file to secrets.yaml
# 2. Replace all placeholder values with actual secrets
# 3. Encode values in base64: echo -n "your-secret" | base64
# 4. Apply: kubectl apply -f secrets.yaml
# 5. Add secrets.yaml to .gitignore
#
# For production, use Azure Key Vault with CSI Secrets Store Driver or External Secrets Operator

---
# Gateway BFF Secrets
apiVersion: v1
kind: Secret
metadata:
  name: gateway-secrets
  namespace: keiko
  labels:
    app: gateway-bff
type: Opaque
data:
  # Session secret for signing cookies (base64 encoded)
  SESSION_SECRET: <base64-encoded-session-secret>

---
# Chat Service Secrets
apiVersion: v1
kind: Secret
metadata:
  name: chat-secrets
  namespace: keiko
  labels:
    app: chat-service
type: Opaque
data:
  # Azure OpenAI endpoint (base64 encoded)
  AZURE_OPENAI_ENDPOINT: <base64-encoded-openai-endpoint>
  
  # Optional: API key for local development (base64 encoded)
  # In production, use Managed Identity instead
  # AZURE_OPENAI_API_KEY: <base64-encoded-api-key>
  
  # Azure Managed Identity Client ID (base64 encoded)
  AZURE_CLIENT_ID: <base64-encoded-client-id>

---
# Search Service Secrets
apiVersion: v1
kind: Secret
metadata:
  name: search-secrets
  namespace: keiko
  labels:
    app: search-service
type: Opaque
data:
  # Azure AI Search endpoint (base64 encoded)
  AZURE_SEARCH_ENDPOINT: <base64-encoded-search-endpoint>
  
  # Azure Managed Identity Client ID (base64 encoded)
  AZURE_CLIENT_ID: <base64-encoded-client-id>

---
# Document Service Secrets
apiVersion: v1
kind: Secret
metadata:
  name: document-secrets
  namespace: keiko
  labels:
    app: document-service
type: Opaque
data:
  # Azure Storage Account Name (base64 encoded)
  AZURE_STORAGE_ACCOUNT_NAME: <base64-encoded-storage-account-name>
  
  # Azure Managed Identity Client ID (base64 encoded)
  AZURE_CLIENT_ID: <base64-encoded-client-id>

---
# Auth Service Secrets
apiVersion: v1
kind: Secret
metadata:
  name: auth-secrets
  namespace: keiko
  labels:
    app: auth-service
type: Opaque
data:
  # Azure AD B2C Client ID (base64 encoded)
  AZURE_AD_B2C_CLIENT_ID: <base64-encoded-b2c-client-id>
  
  # Azure AD B2C Client Secret (base64 encoded)
  AZURE_AD_B2C_CLIENT_SECRET: <base64-encoded-b2c-client-secret>
  
  # JWT signing key (base64 encoded)
  JWT_SECRET_KEY: <base64-encoded-jwt-secret>

---
# User Service Secrets
apiVersion: v1
kind: Secret
metadata:
  name: user-secrets
  namespace: keiko
  labels:
    app: user-service
type: Opaque
data:
  # Database connection string (if using a database)
  # DATABASE_URL: <base64-encoded-database-url>
  
  # Azure Managed Identity Client ID (base64 encoded)
  AZURE_CLIENT_ID: <base64-encoded-client-id>

---
# Redis Secrets (if using Azure Cache for Redis with authentication)
apiVersion: v1
kind: Secret
metadata:
  name: redis-secrets
  namespace: keiko
  labels:
    app: redis
type: Opaque
data:
  # Redis password (base64 encoded)
  # REDIS_PASSWORD: <base64-encoded-redis-password>
  
  # Redis connection string (base64 encoded)
  # REDIS_CONNECTION_STRING: <base64-encoded-redis-connection-string>

---
# TLS Certificates (managed by cert-manager, but can be manually created)
# apiVersion: v1
# kind: Secret
# metadata:
#   name: keiko-tls-secret
#   namespace: keiko
# type: kubernetes.io/tls
# data:
#   tls.crt: <base64-encoded-certificate>
#   tls.key: <base64-encoded-private-key>

